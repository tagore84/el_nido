{
    "type": "object",
    "properties": {
        "category": {
            "type": "string",
            "enum": [
                "task",
                "calendar",
                "chat",
                "meal_tracker",
                "other"
            ]
        },
        "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1
        },
        "reasoning": {
            "type": "string"
        },
        "entities": {
            "type": "object",
            "properties": {
                "date": {
                    "type": "string",
                    "description": "ISO date string if a date is mentioned"
                },
                "item": {
                    "type": "string",
                    "description": "The main subject or item (e.g. 'milk' for shopping)"
                },
                "amount": {
                    "type": "number",
                    "description": "Numeric amount for finance entries"
                },
                "currency": {
                    "type": "string",
                    "description": "Currency symbol or code"
                }
            }
        }
    },
    "required": [
        "category",
        "confidence",
        "reasoning"
    ]
}